<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
    async function getcounter (e) {
        var fileName = location.href.split("/").slice(-1); 
        // root domain serves index without it appearing in url
        if (fileName==null){
            filename="index.html";
        }

        var url = "https://cvcounter.azurewebsites.net/api/counter?page=";

        console.log("counter url " + url+fileName);

        const response = await axios({
            method: 'GET',
            url: url+fileName
        })
        console.log(response);
        document.getElementById("counter").innerHTML = "page count="+ response.data;
    }
    </script>

<html>
    <body onload="getcounter()">
<h1> CV page</h1>
<h2 id="counter" value="0"></h2>

</body>
    

    </html>
